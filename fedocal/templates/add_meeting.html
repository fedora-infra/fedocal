{% extends "master.html" %}
{% from "_formhelpers.html" import render_field %}

{% set title_extent = ('Add new meeting to "%s"') % calendar.calendar_name %}

{% block content %}

<form action="" method="post">
    <table>
{{ render_field_in_row(form.meeting_name) }}
{{ render_field_in_row(form.meeting_date) }}
{{ render_field_in_row(form.meeting_time_start) }}
{{ render_field_in_row(form.meeting_time_stop) }}
{{ render_field_in_row(form.information) }}
{% if calendar.calendar_regional_meetings %}
{{ render_field_in_row(form.meeting_region) }}
{% endif %}
    </table>

<h4>Recursive event</h4>
<p>If this is a regular meeting this is where you want to set it as so.</p>
<table>
{{ render_field_in_row(form.frequency) }}
{{ render_field_in_row(form.end_repeats, after='Leave empty if there is no end date for the repeat.') }}
</table>

<h4>Reminder</h4>
<p>You may want fedocal to send an email to a mailing list of your choices.
</p>
<p>Note that fedocal will send the reminder in your name.</p>
<table>
{{ render_field_in_row(form.remind_when) }}
{{ render_field_in_row(form.remind_who) }}
</table>

<p class="buttons indent">
    <input type="submit" class="submit positive button" value="Add">
    <input type="button" value="Cancel" class="button" onclick="history.back();">
{{ form.csrf_token }}
</form>
{% endblock %}

{% block jscripts %}
{{ super() }}
<script type="text/javascript">
    $(function(){
        $('#meeting_date').datepicker({
            dateFormat: "yy-mm-dd",
        });
        $('#end_repeats').datepicker({
            dateFormat: "yy-mm-dd",
        });
    });
</script>
{% endblock %}
